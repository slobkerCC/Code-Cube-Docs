
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cloud-run-monitoring/">
      
      
        <link rel="next" href="../../datalayer-guard/intro/">
      
      
      <link rel="icon" href="../../logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>Server-side error logging - Code Cube documentation library</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-K6VCS5W');
  </script>
  <!-- End Google Tag Manager -->

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#feature-description" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Code Cube documentation library" class="md-header__button md-logo" aria-label="Code Cube documentation library" data-md-component="logo">
      
  <img src="../../code cube logo white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Code Cube documentation library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Server-side error logging
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../error-monitoring-client-side/" class="md-tabs__link">
          
  
  Tag Monitor

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../datalayer-guard/intro/" class="md-tabs__link">
          
  
  DataLayer Guard

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../notifications/slack/" class="md-tabs__link">
          
  
  Alerting & Notifications

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Code Cube documentation library" class="md-nav__button md-logo" aria-label="Code Cube documentation library" data-md-component="logo">
      
  <img src="../../code cube logo white.png" alt="logo">

    </a>
    Code Cube documentation library
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tag Monitor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tag Monitor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Installing the Tag Monitor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Installing the Tag Monitor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-monitoring-client-side/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client-side set-up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-monitoring-server-side/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server-side set-up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tag-bulk-edit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bulk editing your tags in GTM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" checked>
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using the Tag Monitor
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Using the Tag Monitor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tag-inactivity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enabling Tag Inactivity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access-to-bigquery-dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access to Tag Monitor dataset(s) in BigQuery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../consent-monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consent Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud-run-monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Run Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Server-side error logging
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Server-side error logging
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#feature-description" class="md-nav__link">
    <span class="md-ellipsis">
      Feature description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How it works
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How it works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#GCP-respurces" class="md-nav__link">
    <span class="md-ellipsis">
      Resources Created in your GCP project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-enable-server-side-error-logging" class="md-nav__link">
    <span class="md-ellipsis">
      How to Enable server-side error logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Service Account and Generating a Key
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Service Account and Generating a Key">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create a Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assign-roles-to-the-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Assign Roles to the Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-create-and-download-the-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Create and Download the Service Account Key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-measures-and-implementation-safeguards" class="md-nav__link">
    <span class="md-ellipsis">
      Security Measures and Implementation Safeguards
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DataLayer Guard
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            DataLayer Guard
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalayer-guard/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalayer-guard/scraped-events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring via scraped events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalayer-guard/events-tag-manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring events via Tag Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Alerting & Notifications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Alerting & Notifications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notifications/slack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack Notifications
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#feature-description" class="md-nav__link">
    <span class="md-ellipsis">
      Feature description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How it works
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How it works">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#GCP-respurces" class="md-nav__link">
    <span class="md-ellipsis">
      Resources Created in your GCP project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-enable-server-side-error-logging" class="md-nav__link">
    <span class="md-ellipsis">
      How to Enable server-side error logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Service Account and Generating a Key
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Service Account and Generating a Key">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create a Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-assign-roles-to-the-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Assign Roles to the Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-create-and-download-the-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Create and Download the Service Account Key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-measures-and-implementation-safeguards" class="md-nav__link">
    <span class="md-ellipsis">
      Security Measures and Implementation Safeguards
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Server-side error logging</h1>

<h2 id="feature-description">Feature description</h2>
<p>❕This feature is only available with the Tag Monitor's premium and enterprise licenses.</p>
<p>Logs play an essential role in monitoring your server-side tagging. They assist in troubleshooting request issues, identifying missing data, and understanding how a vendor processed a request.</p>
<p>Logs are available for all tags that support the "logging to console" option in the server-side GTM container. However, it's important to note that you <strong>can not</strong> retrieve log data for Google Analytics and Google Ads tags, as these default templates do not support the logging option.</p>
<p>The logging will be configured in the Google Cloud Project where your GTM server-side container operates in a Cloud Run instance. From this instance, you can connect the logs to the Code Cube environment. These logs will then be paired with other error information and integrated into dashboarding and notifications.</p>
<hr />
<h2 id="how-it-works">How it works</h2>
<p>Our system works by setting up a log monitoring mechanism within your Google Cloud Project. It starts by configuring a router log that collects logs from your GTM server-side container, specifically targeting logs that meet certain criteria.</p>
<p>The filtering logic is applied to ensure only relevant logs are captured, with the filter being: logName=~"stdout" AND textPayload!~"https://www.googletagmanager.com/sgtm/a" AND textPayload!~"Listening". </p>
<p>Filter explanation:
logName=~"stdout": Filter logs based on stdout.
textPayload!~"https://www.googletagmanager.com/sgtm/a": Exclude GTM analytics pings.
textPayload!~"Listening": Excludes instance initializations.</p>
<p>Once the relevant logs are collected, they are sent to a dataset in our Google Cloud Project. This dataset serves as a repository for the logs, which can then be used to create insights, create dashboards, and track various metrics.</p>
<hr />
<h3 id="GCP-respurces">Resources Created in your GCP project</h3>
<ol>
<li><strong>Logging Sink</strong><ul>
<li>A logging sink named codecube-serverside-logs routing logs to BigQuery dataset in our GCP project.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="how-to-enable-server-side-error-logging">How to Enable server-side error logging</h3>
<p>To enable the feature you need to take the steps below:</p>
<ol>
<li><strong>Navigate to the Configuration Page:</strong><ul>
<li>Go to the <a href="https://portal.code-cube.io/tag_monitor_config" target="_blank">Tag Monitor Configuration Page</a> on our portal.</li>
</ul>
</li>
<li><strong>Access the Monitoring Tab:</strong><ul>
<li>Click on the <code>Monitoring via Google Cloud Platform</code> tab.                          <br />
<img src="/../images/GCP-monitoring/monitoring-tab.png"
alt="Monitoring via GCP tab"
height=800
width=800
class="big-img"
    ></li>
</ul>
</li>
<li><strong>Enable server-side error logging:</strong><ul>
<li>Turn on the toggle for server-side error logging.                 <br />
<img src="/../images/GCP-monitoring/server-side-toggle.png"
alt="Enabling toggle for server-side error logging"
height=800
width=800
class="big-img"
    >                     </li>
</ul>
</li>
<li><strong>Upload Service Account Key:</strong><ul>
<li>Upload your service account key.             <br />
<a href="#create-service-account-key">How to create the service account key?</a></li>
<li><strong>Note:</strong> This service account key will not be stored in any of our systems for privacy and security purposes.  Find more about 
    the security Measures and Implementation safeguards <a href="#security-measures-and-implementation-safeguards">here</a>.                   <br />
<img src="/../images/GCP-monitoring/upload-key-ss-logs.png"
alt="Field of upload service account key"
height=800
width=800
class="big-img"
    >            </li>
</ul>
</li>
<li>
<p><strong>Start Configuration:</strong></p>
<ul>
<li>Click on <code>Start Configuration</code> to initiate the process.            <br />
<img src="/../images/GCP-monitoring/start-config-ss-logs.png"
alt="Start configuration button"
height=800
width=800
class="big-img"
    ></li>
</ul>
</li>
<li>
<p><strong>Confirm the implementation:</strong></p>
<ul>
<li>Once the following message appears on your screen, you can confirm that the implementation was successful.                 <br />
<img src="/../images/GCP-monitoring/success-msg-ss-log.png" 
alt="Success message"
height=800
width=800
class="big-img"
        ></li>
</ul>
</li>
</ol>
<hr />
<h3 id="create-service-account-key">Creating a Service Account and Generating a Key</h3>
<p>To enable the automation of monitoring and management processes, you need to create a Google Cloud Service Account with specific permissions. Follow these steps to create the service account, assign the necessary roles, and generate a service account key for upload to our <a href="https://portal.code-cube.io/tag_monitor_config" target="_blank">portal</a>.</p>
<h4 id="step-1-create-a-service-account">Step 1: Create a Service Account</h4>
<ol>
<li><strong>Navigate to the Google Cloud Console</strong><ul>
<li>Open the <a href="https://console.cloud.google.com/">Google Cloud Console</a>.</li>
</ul>
</li>
<li><strong>Select Your Project:</strong><ul>
<li>Ensure you have the correct project selected from the project selector dropdown at the top of the page.</li>
</ul>
</li>
<li><strong>Go to the Service Accounts Page</strong>             <ul>
<li>Navigate to <code>IAM &amp; Admin</code> &gt; <code>Service Accounts</code>.                                        <br />
<img src="/../images/GCP-monitoring/service-account.png"
alt="Service Accounts Page in GCP"
height=900
width=900
class="big-img"
    ></li>
</ul>
</li>
<li><strong>Create a New Service Account</strong><ul>
<li>Click the <code>+ CREATE SERVICE ACCOUNT</code> button.
<img src="/../images/GCP-monitoring/create-service-account.png"
alt="CREATE SERVICE ACCOUNT Button"
height=900
width=900
class="big-img"
    ></li>
<li>Enter a name, ID, and description for the service account.</li>
<li>Click <code>CREATE AND CONTINUE</code>.</li>
<li>Copy the service account email into your clipboard for the next step.</li>
</ul>
</li>
</ol>
<h4 id="step-2-assign-roles-to-the-service-account">Step 2: Assign Roles to the Service Account</h4>
<ul>
<li>Navigate to <code>IAM &amp; Admin</code> &gt; <code>IAM</code>.                   <br />
    <img src="/../images/GCP-monitoring/IAM-tab.png"
        alt="IAM page in GCP"
        height=900
        width=900
        class="big-img"
        ></li>
<li>Click on <code>GRANT ACCESS</code> button.            <br />
    <img src="/../images/GCP-monitoring/grant-access-btn.png"
        alt="Grant access Button"
        height=900
        width=900
        class="big-img"
        ></li>
<li>Paste your service account email from the previous step into the <code>New principals</code> field.           <br />
    <img src="/../images/GCP-monitoring/add-principals.png"
        alt="Add principals Button"
        height=900
        width=900
        class="big-img"
        ></li>
<li>
<p>Assign the following roles to the service account to grant it the necessary permissions:
    <img src="/../images/GCP-monitoring/add-role.png"
        alt="Add role Button"
        height=900
        width=900
        class="big-img"
        ></p>
</li>
<li>
<p><strong>Logging Admin:</strong></p>
<ul>
<li>Resource: <code>google_logging_project_sink</code></li>
<li>Role: <code>roles/logging.admin</code></li>
</ul>
</li>
<li><strong>Config Writer:</strong><ul>
<li>Resource: <code>google_logging_project_sink</code></li>
<li>Role: <code>roles/config.writer</code></li>
<li>After adding all the roles, click <code>DONE</code>.  </li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> You can set the <strong>owner</strong> role to grant all of the permissions mentioned above to the service account in one step. However, be aware that this will also grant full access to the service account.</p>
<h4 id="step-3-create-and-download-the-service-account-key">Step 3: Create and Download the Service Account Key</h4>
<ol>
<li><strong>Generate a New Key:</strong><ul>
<li>In the <code>Service Accounts</code> page, find the service account you created.</li>
<li>Click the <code>⋮</code> (three vertical dots) at the end of the service account row, then click <code>Manage keys</code>.
<img src="/../images/GCP-monitoring/manage-key-btn.png"
alt="Manage key Button"
height=900
width=900
class="big-img"
    ></li>
</ul>
</li>
<li><strong>Add Key:</strong><ul>
<li>Click <code>ADD KEY</code> &gt; <code>Create new key</code>.
<img src="/../images/GCP-monitoring/add-key-btn.png"
alt="Add key Button"
height=900
width=900
class="big-img"
    ></li>
</ul>
</li>
<li><strong>Select Key Type:</strong><ul>
<li>Choose the <code>JSON</code> key type and click <code>CREATE</code>.
<img src="/../images/GCP-monitoring/create-json-key.png"
alt="Create JSON key Button"
height=900
width=900
class="big-img"
    ></li>
</ul>
</li>
<li><strong>Download Key:</strong><ul>
<li>The key will automatically download to your computer. Keep this file secure, as it contains the credentials required to access the service account.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="security-measures-and-implementation-safeguards">Security Measures and Implementation Safeguards</h3>
<p>Our implementation process is built around a strong security framework that safeguards user data and blocks unauthorized access. Here's how we maintain top-level security throughout the process:</p>
<ol>
<li><strong>One-Time Use of Service Account Key:</strong><ul>
<li>We keep your service account key secure by using it only once. The service account key, necessary for implementation, is never stored in our databases. This means that after the initial implementation, the key is discarded. Should you need to update your setup, you will be required to upload the key again. This approach eliminates any potential vulnerabilities associated with key storage.</li>
</ul>
</li>
<li><strong>Strict Separation of Front-End and Back-End Processing:</strong><ul>
<li>To minimize risk, the service account key file is never handled on the front-end. Instead, when you upload the key, it is sent as a binary file via secure HTTPS requests directly to our servers. By processing the key exclusively on the back-end, we prevent any exposure of sensitive information in the front-end environment, adding an extra layer of protection against potential security breaches.</li>
</ul>
</li>
<li><strong>No Credentials Stored:</strong><ul>
<li>In the event of a security breach, your credentials remain safe. Since we do not store the service account key or any sensitive credentials in our system, even a successful hack would yield no access to your Google Cloud resources. This ensures that your data and accounts remain secure, regardless of external threats.</li>
</ul>
</li>
<li><strong>Limited Scope of Resource Creation:</strong><ul>
<li>Our implementation is highly targeted and precise. We only create the resources explicitly required for the project within your Google Cloud environment, and nothing more. This controlled and minimalistic approach ensures that there are no unnecessary permissions or resources that could be exploited, further tightening security.          <br />
<a href="#GCP-respurces">See the list of resources that will be created in your GCP project</a></li>
</ul>
</li>
</ol>
<p>By following these strict security practices, we secure your implementation, reducing risk and protecting your Google Cloud environment.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.path", "navigation.sections", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  </body>
</html>